# Coin Change (Greedy vs DP)

## Problem

Given coin denominations, find the minimum number of coins to make a value.

**Greedy choice:** Always pick the largest coin ≤ remaining amount.

### Example

**Coins:** `[25, 10, 5, 1]`  
**Amount:** `63`

```
25 + 25 + 10 + 1 + 1 + 1 = 6 coins
```

---

## ⚠️ Important Interview Caveat

**Greedy does NOT always work for arbitrary coin systems.**

### Counterexample

**Coins:** `[1, 3, 4]`  
**Amount:** `6`

- **Greedy:** `4 + 1 + 1 = 3 coins`
- **Optimal:** `3 + 3 = 2 coins`

---

## When Greedy Works: Canonical Coins

Greedy works for **canonical coin systems** like:
- US coins: `1, 5, 10, 25`

---

## Greedy Solution (Canonical Coins Only)

```python
def coin_change_greedy(coins, amount):
    """
    Greedy approach works only if coins are canonical (like [1,5,10,25])
    """
    coins.sort(reverse=True)  # Start with largest coin
    count = 0
    remaining = amount
    
    for coin in coins:
        if remaining == 0:
            break
        take = remaining // coin
        count += take
        remaining -= take * coin
    
    if remaining != 0:
        return -1  # Cannot make exact amount
    return count

# Example: US Coins (Canonical)
coins = [25, 10, 5, 1]
amount = 63
print("Greedy:", coin_change_greedy(coins, amount))  # Output: 6
```

### Notes

- ✅ Works only with canonical coins
- ✅ Very fast: O(n) after sorting
- ❌ Will fail for non-canonical coins (e.g., `[1,3,4]`)

---

## DP Solution (All Coins)

```python
def coin_change_dp(coins, amount):
    """
    Dynamic Programming approach works for any coin system
    """
    dp = [float('inf')] * (amount + 1)
    dp[0] = 0  # 0 coins needed for amount 0
    
    for i in range(1, amount + 1):
        for c in coins:
            if i - c >= 0:
                dp[i] = min(dp[i], dp[i - c] + 1)
    
    return dp[amount] if dp[amount] != float('inf') else -1

# Example: Non-canonical coins
coins = [1, 3, 4]
amount = 6
print("DP:", coin_change_dp(coins, amount))  # Output: 2
```

---

## Comparison

| Aspect | Greedy | DP |
|--------|--------|-----|
| **Works for canonical coins** | ✅ Yes | ✅ Yes |
| **Works for any coins** | ❌ No | ✅ Yes |
| **Time Complexity** | O(n) after sorting | O(amount × n) |
| **Space** | O(1) | O(amount) |
| **Interview-safe** | ❌ No (needs caveat) | ✅ Yes |

---

## Key Takeaway

**For interviews:**
- If the problem says "canonical coins" or "US coins" → use greedy
- Otherwise → use DP to be safe
